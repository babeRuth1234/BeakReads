<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudfare.com/ajax/libxs/font-awesome/5.15.4/css/all.min.css"> -->
    <!-- <link rel="stylesheet" href="../css/all.min.css"> -->
    <script defer src="../js/all.min.js"></script>
    <!-- <link rel="stylesheet" href="../css/login.css"> -->
    <link rel="stylesheet" href="../css/picEnv.css">
    <link rel="stylesheet" href="../fonts/NetflixSansBlack.ttf">
    <link rel="stylesheet" href="../fonts/NetflixSansBold.ttf">
    <link rel="stylesheet" href="../fonts/NetflixSansIcon.ttf">
    <link rel="stylesheet" href="../fonts/NetflixSansLight.ttf">
    <link rel="stylesheet" href="../fonts/NetflixSansMedium.ttf">
    <link rel="stylesheet" href="../fonts/NetflixSansRegular.ttf">
    <link rel="stylesheet" href="../fonts/NetflixSansThin.ttf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script defer src="../js/reg.js"></script>  
</head>
<body>
    <a href="/library" class="sigClick1 geex">Back</a>

    <div class="logBox2">
        <img class="picIn" src="/<%= book.BookCover %>" alt="">
        <div class="disClam"><i class="fas fa-exclamation-triangle"></i> Images used are believed to be in the public domain or used with permission.</div>
        <div class="bBox">
            <div class="sigClick1" onclick="saveImage()">Save Image</div>
            <div class="sigClick1" onclick="printImage()">Print Image</div>
        </div>
    </div>
</body>

<script>
    function printImage() {
        // Hide unnecessary elements
        document.querySelector('.disClam').style.display = 'none';
        document.querySelector('.bBox').style.display = 'none';

        // Print the image
        window.print();

        // Show the hidden elements after printing
        document.querySelector('.disClam').style.display = 'flex';
        document.querySelector('.bBox').style.display = 'flex';
    }


 
    function saveImage() {
        // Get the image element
        var image = document.querySelector('.picIn');

        // Create a canvas element
        var canvas = document.createElement('canvas');
        canvas.width = image.width;
        canvas.height = image.height;

        // Get the canvas context
        var context = canvas.getContext('2d');

        // Draw the image onto the canvas
        context.drawImage(image, 0, 0);

        // Convert the canvas content to a data URL
        var dataUrl = canvas.toDataURL('image/png');

        // Create a link element
        var link = document.createElement('a');

        // Set the href attribute to the data URL
        link.href = dataUrl;

        // Set the download attribute with a desired filename
        link.download = 'image.png';

        // Append the link to the document
        document.body.appendChild(link);

        // Trigger a click on the link to start the download
        link.click();

        // Remove the link from the document
        document.body.removeChild(link);
    }


</script>

</html>